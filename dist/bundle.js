(()=>{"use strict";function e(e,t,n){const r=n.value;return{configurable:!0,get(){return r.bind(this)}}}var t;!function(e){e[e.Active=0]="Active",e[e.Finished=1]="Finished"}(t||(t={}));class n{constructor(e,t,n,r,s){this.id=e,this.title=t,this.description=n,this.people=r,this.status=s}}class r{constructor(){this.listeners=[]}addListener(e){this.listeners.push(e)}}class s extends r{constructor(){super(),this.projects=[]}static getInstance(){return this.instance||(this.instance=new s),this.instance}addProject(e,r,s){const i=new n(Math.random().toString(),e,r,s,t.Active);this.projects.push(i),this.updateListeners()}moveProject(e,t){const n=this.projects.find((t=>t.id===e));n&&n.status!==t&&(n.status=t,this.updateListeners())}updateListeners(){for(const e of this.listeners)e(this.projects.slice())}}const i=s.getInstance();function l(e){let t=!0;return e.required&&(t=t&&0!==e.value.toString().trim().length),null!=e.minLength&&"string"==typeof e.value&&(t=t&&e.value.length>=e.minLength),null!=e.maxLength&&"string"==typeof e.value&&(t=t&&e.value.length<=e.maxLength),null!=e.min&&"number"==typeof e.value&&(t=t&&e.value>=e.min),null!=e.max&&"number"==typeof e.value&&(t=t&&e.value<=e.max),t}class o{constructor(e,t,n,r){this.templateElement=document.getElementById(e),this.hostElement=document.getElementById(t);const s=document.importNode(this.templateElement.content,!0);this.element=s.firstElementChild,r&&(this.element.id=r),this.attach(n)}attach(e){this.hostElement.insertAdjacentElement(e?"afterbegin":"beforeend",this.element)}}class a extends o{constructor(){super("project-input","app",!0,"user-input"),this.titleElement=this.element.querySelector("#title"),this.descriptionElement=this.element.querySelector("#description"),this.peopleElement=this.element.querySelector("#people"),this.configure()}configure(){this.element.addEventListener("submit",this.handleSubmit)}renderContent(){}gatherUserInput(){const e=this.titleElement.value,t=this.descriptionElement.value,n=this.peopleElement.value,r={value:t,required:!0,minLength:5},s={value:+n,required:!0,min:1,max:5};return l({value:e,required:!0})&&l(r)&&l(s)?[e,t,+n]:void alert("Invalid Input, please try again!")}clearInputs(){this.titleElement.value="",this.descriptionElement.value="",this.peopleElement.value=""}handleSubmit(e){e.preventDefault();const t=this.gatherUserInput();if(Array.isArray(t)){const[e,n,r]=t;i.addProject(e,n,r),this.clearInputs()}}}!function(e,t,n,r){var s,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(l=(i<3?s(l):i>3?s(t,n,l):s(t,n))||l);i>3&&l&&Object.defineProperty(t,n,l)}([e],a.prototype,"handleSubmit",null);class c extends o{get persons(){return 1===this.project.people?"1 Person":`${this.project.people} Persons`}constructor(e,t){super("single-project",e,!1,t.id),this.project=t,this.configure(),this.renderContent()}dragStartHandler(e){e.dataTransfer.setData("text/plain",this.project.id),e.dataTransfer.effectAllowed="move"}dragEndHandler(e){console.log(e)}configure(){this.element.addEventListener("dragstart",this.dragStartHandler),this.element.addEventListener("dragend",this.dragEndHandler)}renderContent(){this.element.querySelector("h2").textContent=this.project.title,this.element.querySelector("h3").textContent=this.persons+" assigned",this.element.querySelector("p").textContent=this.project.description}}!function(e,t,n,r){var s,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(l=(i<3?s(l):i>3?s(t,n,l):s(t,n))||l);i>3&&l&&Object.defineProperty(t,n,l)}([e],c.prototype,"dragStartHandler",null);var d=function(e,t,n,r){var s,i=arguments.length,l=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(l=(i<3?s(l):i>3?s(t,n,l):s(t,n))||l);return i>3&&l&&Object.defineProperty(t,n,l),l};class h extends o{constructor(e){super("project-list","app",!1,`${e}-projects`),this.type=e,this.assignedProjects=[],this.configure(),this.renderContent()}dragOverHandler(e){e.dataTransfer&&"text/plain"===e.dataTransfer.types[0]&&(e.preventDefault(),this.element.querySelector("ul").classList.add("droppable"))}dropHandler(e){const n=e.dataTransfer.getData("text/plain");i.moveProject(n,"active"===this.type?t.Active:t.Finished)}dragLeaveHandler(e){this.element.querySelector("ul").classList.remove("droppable")}renderContent(){const e=`${this.type}-projects-list`;this.element.querySelector("ul").id=e,this.element.querySelector("h2").textContent=this.type.toUpperCase()+" PROJECTS"}configure(){this.element.addEventListener("dragover",this.dragOverHandler),this.element.addEventListener("dragleave",this.dragLeaveHandler),this.element.addEventListener("drop",this.dropHandler),i.addListener((e=>{const n=e.filter((e=>"active"===this.type?e.status===t.Active:e.status===t.Finished));this.assignedProjects=n,this.renderProjects()}))}renderProjects(){document.getElementById(`${this.type}-projects-list`).innerHTML="";for(const e of this.assignedProjects)new c(this.element.querySelector("ul").id,e)}}d([e],h.prototype,"dragOverHandler",null),d([e],h.prototype,"dropHandler",null),d([e],h.prototype,"dragLeaveHandler",null),new a,new h("active"),new h("finished")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixFQUFjd0IsT0FBU3hCLEVBQWN1RyxTQUN0RyxDQUdBQyxpQkFBaUJqSCxHQUVPUSxLQUFLeUQsUUFBUU8sY0FBYyxNQUNuQ29DLFVBQVVNLE9BQU8sWUFDakMsQ0FFQXBDLGdCQUVJLE1BQU1xQyxFQUFTLEdBQUczRyxLQUFLZ0cscUJBQ3ZCaEcsS0FBS3lELFFBQVFPLGNBQWMsTUFBTzVELEdBQUt1RyxFQUN2QzNHLEtBQUt5RCxRQUFRTyxjQUFjLE1BQU84QixZQUFjOUYsS0FBS2dHLEtBQUtZLGNBQWdCLFdBQzlFLENBRUF6QyxZQUVJbkUsS0FBS3lELFFBQVFXLGlCQUFpQixXQUFZcEUsS0FBS2tHLGlCQUMvQ2xHLEtBQUt5RCxRQUFRVyxpQkFBaUIsWUFBYXBFLEtBQUt5RyxrQkFDaER6RyxLQUFLeUQsUUFBUVcsaUJBQWlCLE9BQVFwRSxLQUFLc0csYUFFM0NyRSxFQUFhdEIsYUFBYUssSUFFdEIsTUFBTTZGLEVBQW1CN0YsRUFBUzhGLFFBQU9oRixHQUVuQixXQUFkOUIsS0FBS2dHLEtBRUVsRSxFQUFRdEIsU0FBV1AsRUFBY3dCLE9BR2pDSyxFQUFRdEIsU0FBV1AsRUFBY3VHLFdBR2hEeEcsS0FBS2lHLGlCQUFtQlksRUFDeEI3RyxLQUFLK0csZ0JBQWdCLEdBRTdCLENBRVFBLGlCQUVnQjVELFNBQVNDLGVBQWUsR0FBR3BELEtBQUtnRyxzQkFDeENnQixVQUFZLEdBQ3hCLElBQUssTUFBTUMsS0FBUWpILEtBQUtpRyxpQkFFcEIsSUFBSWIsRUFBWXBGLEtBQUt5RCxRQUFRTyxjQUFjLE1BQU81RCxHQUFJNkcsRUFFOUQsRUEvREEsR0FEQzFILEcsb0NBYUQsR0FEQ0EsRyxnQ0FRRCxHQURDQSxHLHFDQ3BDTCxJQUFJdUUsRUFDSixJQUFJaUMsRUFBWSxVQUNoQixJQUFJQSxFQUFZLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kcmFnLWRyb3AvLi9zcmMvZGVjb3JhdG9ycy9hdXRvYmluZC50cyIsIndlYnBhY2s6Ly9kcmFnLWRyb3AvLi9zcmMvbW9kZWxzL3Byb2plY3QubW9kZWwudHMiLCJ3ZWJwYWNrOi8vZHJhZy1kcm9wLy4vc3JjL3N0YXRlL3Byb2plY3Qtc3RhdGUudHMiLCJ3ZWJwYWNrOi8vZHJhZy1kcm9wLy4vc3JjL3V0aWxzL3ZhbGlkYXRpb24udHMiLCJ3ZWJwYWNrOi8vZHJhZy1kcm9wLy4vc3JjL2NvbXBvbmVudHMvYmFzZS1jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vZHJhZy1kcm9wLy4vc3JjL2NvbXBvbmVudHMvcHJvamVjdC1pbnB1dC50cyIsIndlYnBhY2s6Ly9kcmFnLWRyb3AvLi9zcmMvY29tcG9uZW50cy9wcm9qZWN0LWl0ZW0udHMiLCJ3ZWJwYWNrOi8vZHJhZy1kcm9wLy4vc3JjL2NvbXBvbmVudHMvcHJvamVjdC1saXN0LnRzIiwid2VicGFjazovL2RyYWctZHJvcC8uL3NyYy9hcHAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFJBREFQTFMgUFJPSkVDVFNcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIENvcHlyaWdodCAoQykgMjAyMyBKdWFuIEZlbGlwZSBSYWRhIC0gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuICpcclxuICogVGhpcyBmaWxlLCBwcm9qZWN0IG9yIGl0cyBwYXJ0cyBjYW4gbm90IGJlIGNvcGllZCBhbmQvb3IgZGlzdHJpYnV0ZWQgd2l0aG91dFxyXG4gKiB0aGUgZXhwcmVzcyBwZXJtaXNzaW9uIG9mIEp1YW4gRmVsaXBlIFJhZGEuXHJcbiAqXHJcbiAqIEBmaWxlIGF1dG9iaW5kLnRzXHJcbiAqIEBhdXRob3IgSnVhbiBGZWxpcGUgUmFkYSA8cmFkYXBsczhAZ21haWwuY29tPlxyXG4gKiBAZGF0ZSBNb25kYXksIDZ0aCBNYXJjaCAyMDIzXHJcbiAqL1xyXG5cclxuLyoqIEF1dG8tYmluZCBkZWNvcmF0b3IgKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEF1dG9CaW5kKF86IGFueSwgXzI6IHN0cmluZywgZGVzY3JpcHRvcjogUHJvcGVydHlEZXNjcmlwdG9yKVxyXG57XHJcbiAgICBjb25zdCBvcmlnaW5hbE1ldGhvZCA9IGRlc2NyaXB0b3IudmFsdWU7XHJcbiAgICBjb25zdCBhZGp1c3RlZERlc2NyaXB0b3I6IFByb3BlcnR5RGVzY3JpcHRvciA9IHtcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXHJcbiAgICAgICAgZ2V0KClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvdW5kRm4gPSBvcmlnaW5hbE1ldGhvZC5iaW5kKHRoaXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gYm91bmRGbjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGFkanVzdGVkRGVzY3JpcHRvcjtcclxufVxyXG4iLCIvKipcclxuICogUkFEQVBMUyBQUk9KRUNUU1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS1cclxuICogQ29weXJpZ2h0IChDKSAyMDIzIEp1YW4gRmVsaXBlIFJhZGEgLSBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4gKlxyXG4gKiBUaGlzIGZpbGUsIHByb2plY3Qgb3IgaXRzIHBhcnRzIGNhbiBub3QgYmUgY29waWVkIGFuZC9vciBkaXN0cmlidXRlZCB3aXRob3V0XHJcbiAqIHRoZSBleHByZXNzIHBlcm1pc3Npb24gb2YgSnVhbiBGZWxpcGUgUmFkYS5cclxuICpcclxuICogQGZpbGUgcHJvamVjdC1tb2RlbC50c1xyXG4gKiBAYXV0aG9yIEp1YW4gRmVsaXBlIFJhZGEgPHJhZGFwbHM4QGdtYWlsLmNvbT5cclxuICogQGRhdGUgTW9uZGF5LCA2dGggTWFyY2ggMjAyM1xyXG4gKi9cclxuXHJcbi8qKiBQcm9qZWN0IFR5cGUgKi9cclxuXHJcbmV4cG9ydCBlbnVtIFByb2plY3RTdGF0dXNcclxue1xyXG4gICAgQWN0aXZlLCBGaW5pc2hlZFxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvamVjdFxyXG57XHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgICBwdWJsaWMgaWQ6IHN0cmluZyxcclxuICAgICAgICBwdWJsaWMgdGl0bGU6IHN0cmluZyxcclxuICAgICAgICBwdWJsaWMgZGVzY3JpcHRpb246IHN0cmluZyxcclxuICAgICAgICBwdWJsaWMgcGVvcGxlOiBudW1iZXIsXHJcbiAgICAgICAgcHVibGljIHN0YXR1czogUHJvamVjdFN0YXR1cylcclxuICAgIHsgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBSQURBUExTIFBST0pFQ1RTXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBDb3B5cmlnaHQgKEMpIDIwMjMgSnVhbiBGZWxpcGUgUmFkYSAtIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFRoaXMgZmlsZSwgcHJvamVjdCBvciBpdHMgcGFydHMgY2FuIG5vdCBiZSBjb3BpZWQgYW5kL29yIGRpc3RyaWJ1dGVkIHdpdGhvdXRcclxuICogdGhlIGV4cHJlc3MgcGVybWlzc2lvbiBvZiBKdWFuIEZlbGlwZSBSYWRhLlxyXG4gKlxyXG4gKiBAZmlsZSBwcm9qZWN0LXN0YXRlLnRzXHJcbiAqIEBhdXRob3IgSnVhbiBGZWxpcGUgUmFkYSA8cmFkYXBsczhAZ21haWwuY29tPlxyXG4gKiBAZGF0ZSBNb25kYXksIDZ0aCBNYXJjaCAyMDIzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgUHJvamVjdCwgUHJvamVjdFN0YXR1cyB9IGZyb20gXCIuLi9tb2RlbHMvcHJvamVjdC5tb2RlbFwiO1xyXG5cclxuLyoqIFByb2plY3Qgc3RhdGUgbWFuYWdlbWVudCAqL1xyXG5cclxudHlwZSBMaXN0ZW5lcjxUPiA9IChpdGVtczogVFtdKSA9PiB2b2lkO1xyXG5cclxuY2xhc3MgU3RhdGU8VD5cclxue1xyXG4gICAgcHJvdGVjdGVkIGxpc3RlbmVyczogTGlzdGVuZXI8VD5bXSA9IFtdO1xyXG5cclxuICAgIGFkZExpc3RlbmVyKGxpc3RlbmVyRm46IExpc3RlbmVyPFQ+KVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXJGbik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9qZWN0U3RhdGUgZXh0ZW5kcyBTdGF0ZTxQcm9qZWN0PlxyXG57XHJcbiAgICBwcml2YXRlIHByb2plY3RzOiBQcm9qZWN0W10gPSBbXTtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBQcm9qZWN0U3RhdGU7XHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgUHJvamVjdFN0YXRlKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGFkZFByb2plY3QodGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZywgbnVtT2ZQZW9wbGU6IG51bWJlcilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBuZXdQcm9qZWN0ID0gbmV3IFByb2plY3QoXHJcbiAgICAgICAgICAgIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBudW1PZlBlb3BsZSxcclxuICAgICAgICAgICAgUHJvamVjdFN0YXR1cy5BY3RpdmUpXHJcblxyXG4gICAgICAgIHRoaXMucHJvamVjdHMucHVzaChuZXdQcm9qZWN0KTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUxpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmVQcm9qZWN0KHByb2plY3RJZDogc3RyaW5nLCBuZXdTdGF0dXM6IFByb2plY3RTdGF0dXMpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgcHJvamVjdCA9IHRoaXMucHJvamVjdHMuZmluZChwcm9qZWN0ID0+IHByb2plY3QuaWQgPT09IHByb2plY3RJZCk7XHJcbiAgICAgICAgaWYgKHByb2plY3QgJiYgcHJvamVjdC5zdGF0dXMgIT09IG5ld1N0YXR1cylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHByb2plY3Quc3RhdHVzID0gbmV3U3RhdHVzO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxpc3RlbmVycygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVMaXN0ZW5lcnMoKVxyXG4gICAge1xyXG4gICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXJGbiBvZiB0aGlzLmxpc3RlbmVycylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyRm4odGhpcy5wcm9qZWN0cy5zbGljZSgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBwcm9qZWN0U3RhdGUgPSBQcm9qZWN0U3RhdGUuZ2V0SW5zdGFuY2UoKTtcclxuIiwiLyoqXHJcbiAqIFJBREFQTFMgUFJPSkVDVFNcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIENvcHlyaWdodCAoQykgMjAyMyBKdWFuIEZlbGlwZSBSYWRhIC0gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuICpcclxuICogVGhpcyBmaWxlLCBwcm9qZWN0IG9yIGl0cyBwYXJ0cyBjYW4gbm90IGJlIGNvcGllZCBhbmQvb3IgZGlzdHJpYnV0ZWQgd2l0aG91dFxyXG4gKiB0aGUgZXhwcmVzcyBwZXJtaXNzaW9uIG9mIEp1YW4gRmVsaXBlIFJhZGEuXHJcbiAqXHJcbiAqIEBmaWxlIHZhbGlkYXRpb24udHNcclxuICogQGF1dGhvciBKdWFuIEZlbGlwZSBSYWRhIDxyYWRhcGxzOEBnbWFpbC5jb20+XHJcbiAqIEBkYXRlIE1vbmRheSwgNnRoIE1hcmNoIDIwMjNcclxuICovXHJcblxyXG4vKiogVmFsaWRhdGlvbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRpb25cclxue1xyXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bWJlcjtcclxuICAgIHJlcXVpcmVkPzogYm9vbGVhbjtcclxuICAgIG1pbkxlbmd0aD86IG51bWJlcjtcclxuICAgIG1heExlbmd0aD86IG51bWJlcjtcclxuICAgIG1pbj86IG51bWJlcjtcclxuICAgIG1heD86IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlKHZhbGlkSW5wdXQ6IFZhbGlkYXRpb24pXHJcbntcclxuICAgIGxldCBpc1ZhbGlkID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAodmFsaWRJbnB1dC5yZXF1aXJlZClcclxuICAgIHtcclxuICAgICAgICBpc1ZhbGlkID0gaXNWYWxpZCAmJiB2YWxpZElucHV0LnZhbHVlLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCAhPT0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodmFsaWRJbnB1dC5taW5MZW5ndGggIT0gbnVsbCAmJiB0eXBlb2YgdmFsaWRJbnB1dC52YWx1ZSA9PT0gJ3N0cmluZycpXHJcbiAgICB7XHJcbiAgICAgICAgaXNWYWxpZCA9IGlzVmFsaWQgJiYgdmFsaWRJbnB1dC52YWx1ZS5sZW5ndGggPj0gdmFsaWRJbnB1dC5taW5MZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHZhbGlkSW5wdXQubWF4TGVuZ3RoICE9IG51bGwgJiYgdHlwZW9mIHZhbGlkSW5wdXQudmFsdWUgPT09ICdzdHJpbmcnKVxyXG4gICAge1xyXG4gICAgICAgIGlzVmFsaWQgPSBpc1ZhbGlkICYmIHZhbGlkSW5wdXQudmFsdWUubGVuZ3RoIDw9IHZhbGlkSW5wdXQubWF4TGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh2YWxpZElucHV0Lm1pbiAhPSBudWxsICYmIHR5cGVvZiB2YWxpZElucHV0LnZhbHVlID09PSAnbnVtYmVyJylcclxuICAgIHtcclxuICAgICAgICBpc1ZhbGlkID0gaXNWYWxpZCAmJiB2YWxpZElucHV0LnZhbHVlID49IHZhbGlkSW5wdXQubWluXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHZhbGlkSW5wdXQubWF4ICE9IG51bGwgJiYgdHlwZW9mIHZhbGlkSW5wdXQudmFsdWUgPT09ICdudW1iZXInKVxyXG4gICAge1xyXG4gICAgICAgIGlzVmFsaWQgPSBpc1ZhbGlkICYmIHZhbGlkSW5wdXQudmFsdWUgPD0gdmFsaWRJbnB1dC5tYXhcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaXNWYWxpZDtcclxufVxyXG4iLCIvKipcclxuICogUkFEQVBMUyBQUk9KRUNUU1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS1cclxuICogQ29weXJpZ2h0IChDKSAyMDIzIEp1YW4gRmVsaXBlIFJhZGEgLSBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4gKlxyXG4gKiBUaGlzIGZpbGUsIHByb2plY3Qgb3IgaXRzIHBhcnRzIGNhbiBub3QgYmUgY29waWVkIGFuZC9vciBkaXN0cmlidXRlZCB3aXRob3V0XHJcbiAqIHRoZSBleHByZXNzIHBlcm1pc3Npb24gb2YgSnVhbiBGZWxpcGUgUmFkYS5cclxuICpcclxuICogQGZpbGUgYmFzZS1jb21wb25lbnQudHNcclxuICogQGF1dGhvciBKdWFuIEZlbGlwZSBSYWRhIDxyYWRhcGxzOEBnbWFpbC5jb20+XHJcbiAqIEBkYXRlIE1vbmRheSwgNnRoIE1hcmNoIDIwMjNcclxuICovXHJcbi8qKiBCYXNlIENsYXNzICovXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIENvbXBvbmVudDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQsIFUgZXh0ZW5kcyBIVE1MRWxlbWVudD5cclxue1xyXG4gICAgdGVtcGxhdGVFbGVtZW50OiBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG4gICAgaG9zdEVsZW1lbnQ6IFQ7XHJcbiAgICBlbGVtZW50OiBVO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHRlbXBsYXRlSWQ6IHN0cmluZyxcclxuICAgICAgICBob3N0RWxlbWVudElkOiBzdHJpbmcsXHJcbiAgICAgICAgaW5zZXJ0QXRTdGFydDogYm9vbGVhbixcclxuICAgICAgICBuZXdFbGVtZW50SWQ/OiBzdHJpbmdcclxuICAgIClcclxuICAgIHtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRlbXBsYXRlSWQpISBhcyBIVE1MVGVtcGxhdGVFbGVtZW50O1xyXG4gICAgICAgIHRoaXMuaG9zdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChob3N0RWxlbWVudElkKSEgYXMgVDtcclxuXHJcbiAgICAgICAgY29uc3QgaW1wb3J0ZWRDb250ZW50ID0gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0aGlzLnRlbXBsYXRlRWxlbWVudC5jb250ZW50LCB0cnVlKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBpbXBvcnRlZENvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQgYXMgVTtcclxuXHJcbiAgICAgICAgaWYgKG5ld0VsZW1lbnRJZClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pZCA9IG5ld0VsZW1lbnRJZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNoKGluc2VydEF0U3RhcnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXR0YWNoKGluc2VydEF0QmVnaW5uaW5nOiBib29sZWFuKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuaG9zdEVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KGluc2VydEF0QmVnaW5uaW5nID8gJ2FmdGVyYmVnaW4nIDogJ2JlZm9yZWVuZCcsIHRoaXMuZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWJzdHJhY3QgY29uZmlndXJlKCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCByZW5kZXJDb250ZW50KCk6IHZvaWQ7XHJcblxyXG59IiwiLyoqXHJcbiAqIFJBREFQTFMgUFJPSkVDVFNcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIENvcHlyaWdodCAoQykgMjAyMyBKdWFuIEZlbGlwZSBSYWRhIC0gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuICpcclxuICogVGhpcyBmaWxlLCBwcm9qZWN0IG9yIGl0cyBwYXJ0cyBjYW4gbm90IGJlIGNvcGllZCBhbmQvb3IgZGlzdHJpYnV0ZWQgd2l0aG91dFxyXG4gKiB0aGUgZXhwcmVzcyBwZXJtaXNzaW9uIG9mIEp1YW4gRmVsaXBlIFJhZGEuXHJcbiAqXHJcbiAqIEBmaWxlIHByb2plY3QtaW5wdXQudHNcclxuICogQGF1dGhvciBKdWFuIEZlbGlwZSBSYWRhIDxyYWRhcGxzOEBnbWFpbC5jb20+XHJcbiAqIEBkYXRlIE1vbmRheSwgNnRoIE1hcmNoIDIwMjNcclxuICovXHJcblxyXG5pbXBvcnQgeyBBdXRvQmluZCB9IGZyb20gXCIuLi9kZWNvcmF0b3JzL2F1dG9iaW5kXCI7XHJcbmltcG9ydCB7IHByb2plY3RTdGF0ZSB9IGZyb20gXCIuLi9zdGF0ZS9wcm9qZWN0LXN0YXRlXCI7XHJcbmltcG9ydCAqIGFzIFZhbGlkYXRlIGZyb20gXCIuLi91dGlscy92YWxpZGF0aW9uXCI7XHJcbmltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vYmFzZS1jb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9qZWN0SW5wdXQgZXh0ZW5kcyBDb21wb25lbnQ8SFRNTERpdkVsZW1lbnQsIEhUTUxGb3JtRWxlbWVudD5cclxue1xyXG4gICAgdGl0bGVFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgZGVzY3JpcHRpb25FbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgcGVvcGxlRWxlbWVudDogSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIoJ3Byb2plY3QtaW5wdXQnLCAnYXBwJywgdHJ1ZSwgJ3VzZXItaW5wdXQnKTtcclxuXHJcbiAgICAgICAgdGhpcy50aXRsZUVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignI3RpdGxlJykhIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbkVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignI2Rlc2NyaXB0aW9uJykhIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5wZW9wbGVFbGVtZW50ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwZW9wbGUnKSEgYXMgSFRNTElucHV0RWxlbWVudDtcclxuXHJcbiAgICAgICAgdGhpcy5jb25maWd1cmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25maWd1cmUoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLmhhbmRsZVN1Ym1pdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyQ29udGVudCgpOiB2b2lkIHsgfVxyXG5cclxuICAgIHByaXZhdGUgZ2F0aGVyVXNlcklucHV0KCk6IFsgc3RyaW5nLCBzdHJpbmcsIG51bWJlciBdIHwgdm9pZFxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGVudGVyZWRUaXRsZSA9IHRoaXMudGl0bGVFbGVtZW50LnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGVudGVyZWREZXNjcmlwdGlvbiA9IHRoaXMuZGVzY3JpcHRpb25FbGVtZW50LnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGVudGVyZWRQZW9wbGUgPSB0aGlzLnBlb3BsZUVsZW1lbnQudmFsdWU7XHJcblxyXG4gICAgICAgIGNvbnN0IHRpdGxlVmFsaWRhdGlvbjogVmFsaWRhdGUuVmFsaWRhdGlvbiA9IHtcclxuICAgICAgICAgICAgdmFsdWU6IGVudGVyZWRUaXRsZSxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvblZhbGlkYXRpb246IFZhbGlkYXRlLlZhbGlkYXRpb24gPSB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBlbnRlcmVkRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBtaW5MZW5ndGg6IDVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBwZW9wbGVWYWxpZGF0aW9uOiBWYWxpZGF0ZS5WYWxpZGF0aW9uID0ge1xyXG4gICAgICAgICAgICB2YWx1ZTogK2VudGVyZWRQZW9wbGUsXHJcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBtaW46IDEsXHJcbiAgICAgICAgICAgIG1heDogNVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmICghVmFsaWRhdGUudmFsaWRhdGUodGl0bGVWYWxpZGF0aW9uKSB8fCAhVmFsaWRhdGUudmFsaWRhdGUoZGVzY3JpcHRpb25WYWxpZGF0aW9uKSB8fCAhVmFsaWRhdGUudmFsaWRhdGUocGVvcGxlVmFsaWRhdGlvbikpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBhbGVydCgnSW52YWxpZCBJbnB1dCwgcGxlYXNlIHRyeSBhZ2FpbiEnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFsgZW50ZXJlZFRpdGxlLCBlbnRlcmVkRGVzY3JpcHRpb24sICtlbnRlcmVkUGVvcGxlIF07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xlYXJJbnB1dHMoKVxyXG4gICAge1xyXG4gICAgICAgIHRoaXMudGl0bGVFbGVtZW50LnZhbHVlID0gJyc7XHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbkVsZW1lbnQudmFsdWUgPSAnJztcclxuICAgICAgICB0aGlzLnBlb3BsZUVsZW1lbnQudmFsdWUgPSAnJztcclxuICAgIH1cclxuXHJcblxyXG4gICAgQEF1dG9CaW5kXHJcbiAgICBwcml2YXRlIGhhbmRsZVN1Ym1pdChldmVudDogRXZlbnQpXHJcbiAgICB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCB1c2VySW5wdXQgPSB0aGlzLmdhdGhlclVzZXJJbnB1dCgpO1xyXG5cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh1c2VySW5wdXQpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgWyB0aXRsZSwgZGVzY3JpcHRpb24sIHBlb3BsZSBdID0gdXNlcklucHV0O1xyXG4gICAgICAgICAgICBwcm9qZWN0U3RhdGUuYWRkUHJvamVjdCh0aXRsZSwgZGVzY3JpcHRpb24sIHBlb3BsZSlcclxuICAgICAgICAgICAgdGhpcy5jbGVhcklucHV0cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogUkFEQVBMUyBQUk9KRUNUU1xyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS1cclxuICogQ29weXJpZ2h0IChDKSAyMDIzIEp1YW4gRmVsaXBlIFJhZGEgLSBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4gKlxyXG4gKiBUaGlzIGZpbGUsIHByb2plY3Qgb3IgaXRzIHBhcnRzIGNhbiBub3QgYmUgY29waWVkIGFuZC9vciBkaXN0cmlidXRlZCB3aXRob3V0XHJcbiAqIHRoZSBleHByZXNzIHBlcm1pc3Npb24gb2YgSnVhbiBGZWxpcGUgUmFkYS5cclxuICpcclxuICogQGZpbGUgcHJvamVjdC1pdGVtLnRzXHJcbiAqIEBhdXRob3IgSnVhbiBGZWxpcGUgUmFkYSA8cmFkYXBsczhAZ21haWwuY29tPlxyXG4gKiBAZGF0ZSBNb25kYXksIDZ0aCBNYXJjaCAyMDIzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXV0b0JpbmQgfSBmcm9tIFwiLi4vZGVjb3JhdG9ycy9hdXRvYmluZFwiO1xyXG5pbXBvcnQgeyBEcmFnZ2FibGUgfSBmcm9tIFwiLi4vbW9kZWxzL2RyYWctZHJvcC5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgUHJvamVjdCB9IGZyb20gXCIuLi9tb2RlbHMvcHJvamVjdC5tb2RlbFwiO1xyXG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL2Jhc2UtY29tcG9uZW50XCI7XHJcblxyXG4vKiogUHJvamVjdCBJdGVtIENsYXNzICovXHJcbmV4cG9ydCBjbGFzcyBQcm9qZWN0SXRlbSBleHRlbmRzIENvbXBvbmVudDxIVE1MVUxpc3RFbGVtZW50LCBIVE1MTElFbGVtZW50PiBpbXBsZW1lbnRzIERyYWdnYWJsZVxyXG57XHJcbiAgICBwcml2YXRlIHByb2plY3Q6IFByb2plY3Q7XHJcblxyXG4gICAgZ2V0IHBlcnNvbnMoKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh0aGlzLnByb2plY3QucGVvcGxlID09PSAxKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuICcxIFBlcnNvbic7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5wcm9qZWN0LnBlb3BsZX0gUGVyc29uc2BcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoaG9zdElkOiBzdHJpbmcsIHByb2plY3Q6IFByb2plY3QpXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIoJ3NpbmdsZS1wcm9qZWN0JywgaG9zdElkLCBmYWxzZSwgcHJvamVjdC5pZCk7XHJcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcclxuXHJcbiAgICAgICAgdGhpcy5jb25maWd1cmUoKTtcclxuICAgICAgICB0aGlzLnJlbmRlckNvbnRlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBAQXV0b0JpbmRcclxuICAgIGRyYWdTdGFydEhhbmRsZXIoZXZlbnQ6IERyYWdFdmVudCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIhLnNldERhdGEoJ3RleHQvcGxhaW4nLCB0aGlzLnByb2plY3QuaWQpO1xyXG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2ZlciEuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcclxuICAgIH1cclxuXHJcbiAgICBkcmFnRW5kSGFuZGxlcihfOiBEcmFnRXZlbnQpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXylcclxuICAgIH1cclxuXHJcbiAgICBjb25maWd1cmUoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmRyYWdTdGFydEhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgdGhpcy5kcmFnRW5kSGFuZGxlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyQ29udGVudCgpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2gyJykhLnRleHRDb250ZW50ID0gdGhpcy5wcm9qZWN0LnRpdGxlO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdoMycpIS50ZXh0Q29udGVudCA9IHRoaXMucGVyc29ucyArICcgYXNzaWduZWQnO1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdwJykhLnRleHRDb250ZW50ID0gdGhpcy5wcm9qZWN0LmRlc2NyaXB0aW9uO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBSQURBUExTIFBST0pFQ1RTXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBDb3B5cmlnaHQgKEMpIDIwMjMgSnVhbiBGZWxpcGUgUmFkYSAtIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIFRoaXMgZmlsZSwgcHJvamVjdCBvciBpdHMgcGFydHMgY2FuIG5vdCBiZSBjb3BpZWQgYW5kL29yIGRpc3RyaWJ1dGVkIHdpdGhvdXRcclxuICogdGhlIGV4cHJlc3MgcGVybWlzc2lvbiBvZiBKdWFuIEZlbGlwZSBSYWRhLlxyXG4gKlxyXG4gKiBAZmlsZSBwcm9qZWN0LWxpc3QudHNcclxuICogQGF1dGhvciBKdWFuIEZlbGlwZSBSYWRhIDxyYWRhcGxzOEBnbWFpbC5jb20+XHJcbiAqIEBkYXRlIE1vbmRheSwgNnRoIE1hcmNoIDIwMjNcclxuICovXHJcblxyXG5pbXBvcnQgeyBBdXRvQmluZCB9IGZyb20gXCIuLi9kZWNvcmF0b3JzL2F1dG9iaW5kXCI7XHJcbmltcG9ydCB7IERyYWdUYXJnZXQgfSBmcm9tIFwiLi4vbW9kZWxzL2RyYWctZHJvcC5pbnRlcmZhY2VcIjtcclxuaW1wb3J0IHsgUHJvamVjdCwgUHJvamVjdFN0YXR1cyB9IGZyb20gXCIuLi9tb2RlbHMvcHJvamVjdC5tb2RlbFwiO1xyXG5pbXBvcnQgeyBwcm9qZWN0U3RhdGUgfSBmcm9tIFwiLi4vc3RhdGUvcHJvamVjdC1zdGF0ZVwiO1xyXG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL2Jhc2UtY29tcG9uZW50XCI7XHJcbmltcG9ydCB7IFByb2plY3RJdGVtIH0gZnJvbSBcIi4vcHJvamVjdC1pdGVtXCI7XHJcblxyXG4vKiogUHJvamVjdExpc3QgQ2xhc3MgKi9cclxuZXhwb3J0IGNsYXNzIFByb2plY3RMaXN0IGV4dGVuZHMgQ29tcG9uZW50PEhUTUxEaXZFbGVtZW50LCBIVE1MRWxlbWVudD4gaW1wbGVtZW50cyBEcmFnVGFyZ2V0XHJcbntcclxuICAgIGFzc2lnbmVkUHJvamVjdHM6IFByb2plY3RbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHR5cGU6ICdhY3RpdmUnIHwgJ2ZpbmlzaGVkJylcclxuICAgIHtcclxuICAgICAgICBzdXBlcigncHJvamVjdC1saXN0JywgJ2FwcCcsIGZhbHNlLCBgJHt0eXBlfS1wcm9qZWN0c2ApO1xyXG4gICAgICAgIHRoaXMuYXNzaWduZWRQcm9qZWN0cyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmNvbmZpZ3VyZSgpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyQ29udGVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIEBBdXRvQmluZFxyXG4gICAgZHJhZ092ZXJIYW5kbGVyKGV2ZW50OiBEcmFnRXZlbnQpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmRhdGFUcmFuc2ZlciAmJiBldmVudC5kYXRhVHJhbnNmZXIudHlwZXNbIDAgXSA9PT0gJ3RleHQvcGxhaW4nKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY29uc3QgbGlzdEVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcigndWwnKSE7XHJcbiAgICAgICAgICAgIGxpc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Ryb3BwYWJsZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgQEF1dG9CaW5kXHJcbiAgICBkcm9wSGFuZGxlcihldmVudDogRHJhZ0V2ZW50KTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IGV2ZW50LmRhdGFUcmFuc2ZlciEuZ2V0RGF0YSgndGV4dC9wbGFpbicpO1xyXG4gICAgICAgIHByb2plY3RTdGF0ZS5tb3ZlUHJvamVjdChwcm9qZWN0SWQsIHRoaXMudHlwZSA9PT0gJ2FjdGl2ZScgPyBQcm9qZWN0U3RhdHVzLkFjdGl2ZSA6IFByb2plY3RTdGF0dXMuRmluaXNoZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIEBBdXRvQmluZFxyXG4gICAgZHJhZ0xlYXZlSGFuZGxlcihfOiBEcmFnRXZlbnQpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgbGlzdEVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcigndWwnKSE7XHJcbiAgICAgICAgbGlzdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcHBhYmxlJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyQ29udGVudCgpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgbGlzdElEID0gYCR7dGhpcy50eXBlfS1wcm9qZWN0cy1saXN0YDtcclxuICAgICAgICB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcigndWwnKSEuaWQgPSBsaXN0SUQ7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2gyJykhLnRleHRDb250ZW50ID0gdGhpcy50eXBlLnRvVXBwZXJDYXNlKCkgKyAnIFBST0pFQ1RTJztcclxuICAgIH1cclxuXHJcbiAgICBjb25maWd1cmUoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIHRoaXMuZHJhZ092ZXJIYW5kbGVyKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgdGhpcy5kcmFnTGVhdmVIYW5kbGVyKTtcclxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMuZHJvcEhhbmRsZXIpO1xyXG5cclxuICAgICAgICBwcm9qZWN0U3RhdGUuYWRkTGlzdGVuZXIoKHByb2plY3RzOiBQcm9qZWN0W10pID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCByZWxldmFudFByb2plY3RzID0gcHJvamVjdHMuZmlsdGVyKHByb2plY3QgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb2plY3Quc3RhdHVzID09PSBQcm9qZWN0U3RhdHVzLkFjdGl2ZVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb2plY3Quc3RhdHVzID09PSBQcm9qZWN0U3RhdHVzLkZpbmlzaGVkXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHRoaXMuYXNzaWduZWRQcm9qZWN0cyA9IHJlbGV2YW50UHJvamVjdHM7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUHJvamVjdHMoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbmRlclByb2plY3RzKClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBsaXN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RoaXMudHlwZX0tcHJvamVjdHMtbGlzdGApISBhcyBIVE1MVUxpc3RFbGVtZW50O1xyXG4gICAgICAgIGxpc3RFbGVtZW50LmlubmVySFRNTCA9ICcnO1xyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLmFzc2lnbmVkUHJvamVjdHMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuZXcgUHJvamVjdEl0ZW0odGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3VsJykhLmlkLCBpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFJBREFQTFMgUFJPSkVDVFNcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIENvcHlyaWdodCAoQykgMjAyMyBKdWFuIEZlbGlwZSBSYWRhIC0gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuICpcclxuICogVGhpcyBmaWxlLCBwcm9qZWN0IG9yIGl0cyBwYXJ0cyBjYW4gbm90IGJlIGNvcGllZCBhbmQvb3IgZGlzdHJpYnV0ZWQgd2l0aG91dFxyXG4gKiB0aGUgZXhwcmVzcyBwZXJtaXNzaW9uIG9mIEp1YW4gRmVsaXBlIFJhZGEuXHJcbiAqXHJcbiAqIEBmaWxlIGFwcC50c1xyXG4gKiBAYXV0aG9yIEp1YW4gRmVsaXBlIFJhZGEgPHJhZGFwbHM4QGdtYWlsLmNvbT5cclxuICogQGRhdGUgRnJpZGF5LCAxNXRoIE5vdmVtYmVyIDIwMTlcclxuICovXHJcblxyXG5pbXBvcnQgeyBQcm9qZWN0SW5wdXQgfSBmcm9tIFwiLi9jb21wb25lbnRzL3Byb2plY3QtaW5wdXRcIjtcclxuaW1wb3J0IHsgUHJvamVjdExpc3QgfSBmcm9tIFwiLi9jb21wb25lbnRzL3Byb2plY3QtbGlzdFwiO1xyXG5cclxuXHJcbm5ldyBQcm9qZWN0SW5wdXQoKTtcclxubmV3IFByb2plY3RMaXN0KCdhY3RpdmUnKVxyXG5uZXcgUHJvamVjdExpc3QoJ2ZpbmlzaGVkJylcclxuIl0sIm5hbWVzIjpbIkF1dG9CaW5kIiwiXyIsIl8yIiwiZGVzY3JpcHRvciIsIm9yaWdpbmFsTWV0aG9kIiwidmFsdWUiLCJjb25maWd1cmFibGUiLCJnZXQiLCJiaW5kIiwidGhpcyIsIlByb2plY3RTdGF0dXMiLCJQcm9qZWN0IiwiY29uc3RydWN0b3IiLCJpZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJwZW9wbGUiLCJzdGF0dXMiLCJTdGF0ZSIsImxpc3RlbmVycyIsImFkZExpc3RlbmVyIiwibGlzdGVuZXJGbiIsInB1c2giLCJQcm9qZWN0U3RhdGUiLCJzdXBlciIsInByb2plY3RzIiwic3RhdGljIiwiaW5zdGFuY2UiLCJhZGRQcm9qZWN0IiwibnVtT2ZQZW9wbGUiLCJuZXdQcm9qZWN0IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwiQWN0aXZlIiwidXBkYXRlTGlzdGVuZXJzIiwibW92ZVByb2plY3QiLCJwcm9qZWN0SWQiLCJuZXdTdGF0dXMiLCJwcm9qZWN0IiwiZmluZCIsInNsaWNlIiwicHJvamVjdFN0YXRlIiwiZ2V0SW5zdGFuY2UiLCJ2YWxpZGF0ZSIsInZhbGlkSW5wdXQiLCJpc1ZhbGlkIiwicmVxdWlyZWQiLCJ0cmltIiwibGVuZ3RoIiwibWluTGVuZ3RoIiwibWF4TGVuZ3RoIiwibWluIiwibWF4IiwiQ29tcG9uZW50IiwidGVtcGxhdGVJZCIsImhvc3RFbGVtZW50SWQiLCJpbnNlcnRBdFN0YXJ0IiwibmV3RWxlbWVudElkIiwidGVtcGxhdGVFbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImhvc3RFbGVtZW50IiwiaW1wb3J0ZWRDb250ZW50IiwiaW1wb3J0Tm9kZSIsImNvbnRlbnQiLCJlbGVtZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJhdHRhY2giLCJpbnNlcnRBdEJlZ2lubmluZyIsImluc2VydEFkamFjZW50RWxlbWVudCIsIlByb2plY3RJbnB1dCIsInRpdGxlRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJkZXNjcmlwdGlvbkVsZW1lbnQiLCJwZW9wbGVFbGVtZW50IiwiY29uZmlndXJlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZVN1Ym1pdCIsInJlbmRlckNvbnRlbnQiLCJnYXRoZXJVc2VySW5wdXQiLCJlbnRlcmVkVGl0bGUiLCJlbnRlcmVkRGVzY3JpcHRpb24iLCJlbnRlcmVkUGVvcGxlIiwiZGVzY3JpcHRpb25WYWxpZGF0aW9uIiwicGVvcGxlVmFsaWRhdGlvbiIsImFsZXJ0IiwiY2xlYXJJbnB1dHMiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwidXNlcklucHV0IiwiQXJyYXkiLCJpc0FycmF5IiwiUHJvamVjdEl0ZW0iLCJwZXJzb25zIiwiaG9zdElkIiwiZHJhZ1N0YXJ0SGFuZGxlciIsImRhdGFUcmFuc2ZlciIsInNldERhdGEiLCJlZmZlY3RBbGxvd2VkIiwiZHJhZ0VuZEhhbmRsZXIiLCJjb25zb2xlIiwibG9nIiwidGV4dENvbnRlbnQiLCJQcm9qZWN0TGlzdCIsInR5cGUiLCJhc3NpZ25lZFByb2plY3RzIiwiZHJhZ092ZXJIYW5kbGVyIiwidHlwZXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJkcm9wSGFuZGxlciIsImdldERhdGEiLCJGaW5pc2hlZCIsImRyYWdMZWF2ZUhhbmRsZXIiLCJyZW1vdmUiLCJsaXN0SUQiLCJ0b1VwcGVyQ2FzZSIsInJlbGV2YW50UHJvamVjdHMiLCJmaWx0ZXIiLCJyZW5kZXJQcm9qZWN0cyIsImlubmVySFRNTCIsIml0ZW0iXSwic291cmNlUm9vdCI6IiJ9